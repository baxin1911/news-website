<section>
    <h2 class="title-style">Noticias Populares</h2>

    <div class="py-3">
        <ul class="list-unstyled mb-0">
            <% articles.forEach( article => { 
                const category = (article.category) ? getCategory(article.category) : '';
                const imageUrl = article.coverPath ?? article.blocks.find(block => block.type === 'image').content;
                const shortDescription = (article.description.length > 100) ? `${article.description.substring(0, 100)} ...` : article.description;
                const shortTitle = (article.title.length > 50) ? `${article.title.substring(0, 50)} ...` : article.title;
                const date = (article.publicationDate) ? formatShortDate(article.publicationDate) : '';
            %>
                <li class="mb-3">
                    <%- include('./articlePreview', {
                        article: {
                            img: {
                                src: imageUrl,
                                class: 'card-img-top',
                                alt: 'Imagen de la noticia'
                            },
                            body: {
                                class: 'card-body',
                                title: {
                                    class: '',
                                    link: slugify(article.title),
                                    content: shortTitle
                                }
                            }
                        }
                    }) %>
                </li>
            <% }); %>
        </ul>
    </div>
</section>